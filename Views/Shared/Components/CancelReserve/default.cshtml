@model LabReservation.Models.LabManageInfoProps

@{
  var currentDate = DateTime.Now;
}

<link rel="stylesheet" type="text/css" href="~/css/cancelReserve.css" />

<div id="modal-main" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">Cancel Reservation</h2>
      <button type="button" class="close">
        <span>Ã—</span>
      </button>
    </div>
    <div class="modal-body">
      <p>Select user to cancel reservation in</p>
      <p class="detail-reserve">@Model.labinfo.name (@Model.cancelUserList.day)</p>
      <form>
        <div class="select-cancel">
          @foreach (var item in @Model.cancelUserList.data)
          {
            <div>
              @await Component.InvokeAsync("CheckBox", new { whoReserved = @item })
            </div>
          }
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <div>
        <button type="button" id="btn-selectall" class="btn btn-selectall">Select All</button>
      </div>
      <div>
        <button type="button" id="btn-cancel" class="btn btn-cancel">Cancel</button>
        <button type="submit" id="btn-confirm" class="btn btn-confirm">Confirm</button>
      </div>
    </div>
  </div>
</div>


<script>
  var modal = document.getElementById("modal-main");

  var span = document.getElementsByClassName("close")[0];

  var cancel = document.getElementById("btn-cancel");

  var confirm = document.getElementById("btn-confirm");

  var select_all = document.getElementById("btn-selectall");

  span.onclick = function () {
    modal.style.display = "none";
  }

  cancel.onclick = function () {
    modal.style.display = "none";
  }

  confirm.onclick = function () {
    // get function from checkbox viewcomponent
    confirm_checkbox();
    // submit and close modal
    modal.style.display = "none";
  };

  select_all.onclick = function () {
    // get function from checkbox viewcomponent
    check_all();
  }

  window.onclick = function (event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
</script>